# Coin-strip-gpt
Coin strip game generated by open ai chat gpt-3

Here is the conversation:

Voici le code de mon jeu:
from random import randint

def creer_bande(taille, nb_pieces):
    t = [0]*taille
    deb = 1
    fin = taille - nb_pieces
    for _ in range(nb_pieces):
        i = randint(deb, fin)
        t[i] = 1
        deb = i+1
        fin = fin + 1
    return t

def est_valide(bande, saisie):
    # True si le coup est jouable
    try:
        index = int(saisie)
    except:
        print("La saisie doit être un nombre entier")
        return False
    saisie = int(saisie)
    if not bande[saisie]==1:
        if 0<=saisie<len(bande):
           return True
        else:
            print("Le numero saisie est en dehors de la bande")
    else:
        print("Le numero saisie est déjà dans la bande")
        
def jouer(bande, saisie):
    # modifie la bande
    if est_valide(bande, saisie):
        saisie = int(saisie)
        for i in range(len(bande)):
            if i==saisie:
               bande[i]=1
               fin = i
               break
        for i in range(fin+1, len(bande)):
            if bande[i]==1:
                bande[i]=0
                break
                
def partie_finie(bande):
    # True si aucun coup jouable
    return bande[:bande.count(1)]==[1]*bande.count(1)

def choix_dispo(tab):
    pos = []
    for i in range(len(tab)):
        if tab[i]==0:
            pos.append(i)
    return pos

bande = creer_bande(10, 3)
fini = False
while not fini:
    print(bande)
    print(f"Choix dispo: {choix_dispo(bande)}")
    saisie = input("Que jouez-vous ? ")
    if est_valide(bande, saisie):
        jouer(bande, saisie)
    print()
    fini = partie_finie(bande)

print(bande)
print("Fini !")

Soit mon assistant de programmation.
J'aimerais que tu m'aides à apporter des modifications à la fonction est_valide pour que le joueur ne puisse pas saisir de valeur si il n'y a pas de 1 à droite dans le tableau.

Vous pouvez ajouter une vérification pour voir s'il y a un 1 à droite de la position saisie:

python
Copy code
def est_valide(bande, saisie):
    try:
        index = int(saisie)
    except:
        print("La saisie doit être un nombre entier")
        return False
    saisie = int(saisie)
    if not bande[saisie]==1:
        if 0<=saisie<len(bande):
            if 1 in bande[saisie+1:]:
                return True
            else:
                print("Il n'y a pas de 1 à droite de cette position")
                return False
        else:
            print("Le numero saisie est en dehors de la bande")
    else:
        print("Le numero saisie est déjà dans la bande")



r
Merci cela fonctionne très bien.
Peux-tu faire en sorte maintenant que la fonction choix dispo n'affiche pas les endroit où il n'y a pas de 1 à droite ?
Vous pouvez faire ceci en vérifiant si un 1 est présent à droite de chaque position 0 dans le tableau:

python
Copy code
def choix_dispo(tab):
    pos = []
    for i in range(len(tab)):
        if tab[i] == 0:
            if 1 in tab[i+1:]:
                pos.append(i)
    return pos



r
Est-ce que ce jeu peut-être apparenté au coin strip ?
Oui, ce jeu est similaire au jeu du Coin Strip. Dans ce jeu, le but est de déplacer les pièces à droite jusqu'à ce qu'il n'en reste plus. Le jeu peut se jouer avec des pièces de monnaie ou des allumettes. Les règles peuvent varier, mais le but est généralement de ne pas être le dernier à déplacer une pièce, car cela signifie que vous avez perdu.




r
Peux-tu implémenter ce jeu avec le module flask en python en faisant:
-en sorte que le client puisse bouger les pions avec un form
-en sorte que le tableau soit mise à jour chaque round.
-en sorte de pouvoir relancer le jeu si l'utilisateur relance la page.
Bien sûr, voici un exemple d'implémentation de ce jeu avec Flask:

python
Copy code
from flask import Flask, render_template, request
from random import randint

app = Flask(__name__)

def creer_bande(taille, nb_pieces):
    t = [0]*taille
    deb = 1
    fin = taille - nb_pieces
    for _ in range(nb_pieces):
        i = randint(deb, fin)
        t[i] = 1
        deb = i+1
        fin = fin + 1
    return t

def est_valide(bande, saisie):
    try:
        index = int(saisie)
    except:
        return False
    saisie = int(saisie)
    if not bande[saisie]==1:
        if 0<=saisie<len(bande):
           return True
        else:
            return False
    else:
        return False
        
def jouer(bande, saisie):
    if est_valide(bande, saisie):
        saisie = int(saisie)
        for i in range(len(bande)):
            if i==saisie:
               bande[i]=1
               fin = i
               break
        for i in range(fin+1, len(bande)):
            if bande[i]==1:
                bande[i]=0
                break
                
def partie_finie(bande):
    return bande[:bande.count(1)]==[1]*bande.count(1)

def choix_dispo(tab):
    pos = []
    for i in range(len(tab)):
        if tab[i] == 0:
            if 1 in tab[i+1:]:
                pos.append(i)
    return pos

@app.route('/', methods=['GET', 'POST'])
def index():
    global bande
    if request.method == 'POST':
        saisie = request.form['saisie']
        jouer(bande, saisie)
    if partie_finie(bande):
        bande = creer_bande(10, 3)
    return render_template('index.html', bande=bande, choix=choix_dispo(bande))

if __name__ == '__main__':
    bande = creer_bande(10, 3)
    app.run(debug=True)
Et le fichier de template index.html:

php
Copy code
<html>
  <head>
    <title>Jeux Coin Strip</title>
  </head>
  <body>
    <h1>Jeux Coin Strip</h1>
    <form method="post">
      <table>
        {% for i, item in enumerate(bande) %}
        <tr>
          <td>{{ i }}</td>
          <td>
            {% if item == 1 %}
              <input type="radio" name="saisie" value="



r
voici le code:
from flask import Flask, render_template, request
from random import randint

app = Flask(__name__)

def creer_bande(taille, nb_pieces):
    t = [0]*taille
    deb = 1
    fin = taille - nb_pieces
    for _ in range(nb_pieces):
        i = randint(deb, fin)
        t[i] = 1
        deb = i+1
        fin = fin + 1
    return t

def est_valide(bande, saisie):
    try:
        index = int(saisie)
    except:
        return False
    saisie = int(saisie)
    if not bande[saisie]==1:
        if 0<=saisie<len(bande):
           return True
        else:
            return False
    else:
        return False
        
def jouer(bande, saisie):
    if est_valide(bande, saisie):
        saisie = int(saisie)
        for i in range(len(bande)):
            if i==saisie:
               bande[i]=1
               fin = i
               break
        for i in range(fin+1, len(bande)):
            if bande[i]==1:
                bande[i]=0
                break
                
def partie_finie(bande):
    return bande[:bande.count(1)]==[1]*bande.count(1)

def choix_dispo(tab):
    pos = []
    for i in range(len(tab)):
        if tab[i] == 0:
            if 1 in tab[i+1:]:
                pos.append(i)
    return pos

@app.route('/', methods=['GET', 'POST'])
def index():
    global bande
    if request.method == 'POST':
        saisie = request.form['saisie']
        jouer(bande, saisie)
    if partie_finie(bande):
        bande = creer_bande(10, 3)
    return render_template('index.html', bande=bande, choix=choix_dispo(bande))

if __name__ == '__main__':
    bande = creer_bande(10, 3)
    app.run(debug=True)

Ecris index.html
<html>
  <head>
    <title>Jeu du Coin Strip</title>
  </head>
  <body>
    <h1>Jeu du Coin Strip</h1>
    <table>
      {% for p in bande %}
        <td>{{ p }}</td>
      {% endfor %}
    </table>
    <form action="/" method="post">
      <select name="saisie">
        {% for c in choix %}
          <option value="{{ c }}">{{ c }}</option>
        {% endfor %}
      </select>
      <input type="submit" value="Jouer">
    </form>
  </body>
</html>
